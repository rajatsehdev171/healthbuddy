(this["webpackJsonphealth-buddy"]=this["webpackJsonphealth-buddy"]||[]).push([[0],{57:function(e,t,a){e.exports=a(97)},62:function(e,t,a){},63:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),i=a.n(r),c=(a(62),a(1)),o=(a(63),a(6)),s=a(11),u=a(8),m=a(32),d=Object(m.b)({name:"health-actions",initialState:{loginResponse:{responseObj:null,isLoggedIn:!1,token:null},bmiDetails:null,userCompleteDetails:null},reducers:{updateLoginResponse:function(e,t){e.loginResponse=t.payload},saveBmiDetails:function(e,t){e.bmiDetails=t.payload,console.log("isState updated--",e)},saveUserCompleteDetails:function(e,t){e.userCompleteDetails=t.payload}}}),p=d.actions,v=p.updateLoginResponse,g=p.saveBmiDetails,f=d.reducer,b=Object(m.a)({reducer:f}),E=a(9),h=a.n(E),y=a(13),N=a(31),O=a(19),w=a.n(O);var x=Object(u.b)(null,(function(e){return{updateLoginResponse:function(t){return e(v(t))}}}))((function(e){var t=Object(o.h)(),a=function(){var e=Object(y.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("https://myhealthbuddyapp.herokuapp.com/auth/login",{email:t.email}).then((function(e){if(e.data)return e.data})).catch((function(e){return console.log(e),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(N.GoogleLogin,{clientId:"971615762538-n2knhdr6vhijhgm6oleolth4k94njhoi.apps.googleusercontent.com",buttonText:"Login With Google",className:"login-btn",onSuccess:function(n){!function(e){var t=1e3*(e.tokenObj.expires_in||3300),a=function(){var n=Object(y.a)(h.a.mark((function n(){var l;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.reloadAuthResponse();case 2:l=n.sent,t=1e3*(l.expires_in||3300),console.log("newAuthRes:",l),localStorage.setItem("authToken",l.id_token),setTimeout(a,t);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();setTimeout(a,t)}(n),a(n.profileObj).then((function(a){w.a.get("https://myhealthbuddyapp.herokuapp.com/api/user",{headers:{Authorization:"Bearer ".concat(a.token)}}).then((function(l){localStorage.setItem("token",a.token),localStorage.setItem("userDetails",JSON.stringify(Object(c.a)(Object(c.a)(Object(c.a)({},a.user),n.profileObj),l.data.user))),e.updateLoginResponse({isLoggedIn:!0,responseObj:Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},l.data.user),a.user),n.profileObj),{},{employeeList:l.data.employeeList,recommendedPlan:l.data.recommendedPlan,dietLink:l.data.link}),token:a.token}),t("/home")})).catch((function(e){return console.log(e),e}))})).catch((function(e){console.log(e),alert("Error Logging In!")}))},onFailure:function(t){console.log("Login failed: res:",t),e.updateLoginResponse({isLoggedIn:!1,responseObj:null,token:null}),alert("Failed to login.")},cookiePolicy:"single_host_origin",style:{marginTop:"100px"}}))})),j=Object(u.b)((function(e){return{loginResponse:e.loginResponse}}))((function(e){return console.log(e.loginResponse),l.a.createElement("div",{id:"loginform"},l.a.createElement("div",{id:"alternativeLogin"},l.a.createElement("label",{className:"login-heading"},"Sign In To Health Buddy App"),l.a.createElement("div",{id:"iconGroup"},l.a.createElement(x,null))))})),k=a(3);var C=Object(u.b)(null,(function(e){return{}}))((function(e){Object(o.h)();var t,a,r,i,s,u=e.data,m=e.handleDietFormChange,d=Object(n.useState)({}),p=Object(k.a)(d,2),v=p[0],g=p[1];Object(n.useEffect)((function(){g(null===u||void 0===u?void 0:u.dietPlan)}),[null===u||void 0===u?void 0:u.dietPlan]);var f=function(e,t,a){if(a)m(e,t);else{var n=Object(c.a)({},v);n[e]=t,m("dietPlan",n)}};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-header"},l.a.createElement("p",{className:"fw-bold fs-5 text-start"},"Diet Plan/Recommendations"),l.a.createElement("div",{className:"row flex-row pt-1"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Breakfast")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"breakfast",value:(null===u||void 0===u||null===(t=u.dietPlan)||void 0===t?void 0:t.breakfast)||"",onChange:function(e){return f(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Morning snack")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"morningSnack",value:(null===u||void 0===u||null===(a=u.dietPlan)||void 0===a?void 0:a.morningSnack)||"",onChange:function(e){return f(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Lunch")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"lunch",value:(null===u||void 0===u||null===(r=u.dietPlan)||void 0===r?void 0:r.lunch)||"",onChange:function(e){return f(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Evening snack")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"eveningSnack",value:(null===u||void 0===u||null===(i=u.dietPlan)||void 0===i?void 0:i.eveningSnack)||"",onChange:function(e){return f(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Dinner")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"dinner",value:(null===u||void 0===u||null===(s=u.dietPlan)||void 0===s?void 0:s.dinner)||"",onChange:function(e){return f(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Number of months")),l.a.createElement("input",{type:"number",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"numberOfMonths",value:(null===u||void 0===u?void 0:u.numberOfMonths)||"",onChange:function(e){return f(e.target.name,e.target.value,!0)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Walk (Steps)")),l.a.createElement("input",{type:"number",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"walk",value:(null===u||void 0===u?void 0:u.walk)||"",onChange:function(e){return f(e.target.name,e.target.value,!0)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Drinks (Glasses of water)")),l.a.createElement("input",{type:"number",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"waterIntake",value:(null===u||void 0===u?void 0:u.waterIntake)||"",onChange:function(e){return f(e.target.name,e.target.value,!0)},"aria-describedby":"inputGroup-sizing-default"}))))))}));var S=Object(u.b)(null,(function(e){return{}}))((function(e){Object(o.h)();var t=e.data,a=e.handleDietFormChange,r=Object(n.useState)(t||{}),i=Object(k.a)(r,2),c=i[0],s=i[1];Object(n.useEffect)((function(){s(t)}),[t]);var u=function(e,t){e&&a(e,t)};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-header"},l.a.createElement("p",{className:"fw-bold fs-5 text-start"},"Goal/conditions"),l.a.createElement("div",{className:"row flex-row pt-1"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Target Weight")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"targetWeight",value:(null===c||void 0===c?void 0:c.targetWeight)||"",onChange:function(e){return u(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"target Body Fat")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"targetBodyFat",value:(null===c||void 0===c?void 0:c.targetBodyFat)||"",onChange:function(e){return u(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Weekly milestone")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:!0,value:(null===c||void 0===c?void 0:c.weeklyMilestone)||"",name:"weeklyMilestone",onChange:function(e){return u(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Recommended calories intake")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===c||void 0===c?void 0:c.calorieIntake)||"",name:"calorieIntake",onChange:function(e){return u(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Medical conditions")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===c||void 0===c?void 0:c.medicalConditions)||"",name:"medicalConditions",onChange:function(e){return u(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Food allergies")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===c||void 0===c?void 0:c.allergens)||"",name:"allergens",onChange:function(e){return u(e.target.name,e.target.value)},"aria-describedby":"inputGroup-sizing-default"}))))))})),D=a(21),R=a(101);var I=Object(u.b)(null,(function(e){return{}}))((function(e){Object(o.h)();var t,a=Object(n.useState)([]),r=Object(k.a)(a,2),i=r[0],c=r[1];Object(n.useEffect)((function(){var t;c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.exercisePlan)}),[null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.exercisePlan]);var s=function(e){if(e){var t=Object(D.a)(i);return t.splice(e,1),void c(t)}var a=[].concat(Object(D.a)(i),[{name:"",duration:"",url:""}]);c(a),window.scrollTo(0,99999)},u=function(t,a,n){var l=Object(D.a)(i);l[n][t]=a,e.handleDietFormChange("exercisePlan",l)};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-header"},l.a.createElement("p",{className:"fw-bold fs-5 text-start"},"Exercise"),i.length>0&&i.map((function(t,a){return l.a.createElement("div",{className:"row flex-row pt-1"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Exercise Name")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2",name:"type",value:t.type,onChange:function(e){return u(e.target.name,e.target.value,a)},"aria-label":"Default",disabled:e.isReadOnly,"aria-describedby":"inputGroup-sizing-default"}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Duration/Any other info")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"duration",value:t.duration,onChange:function(e){return u(e.target.name,e.target.value,a)},"aria-describedby":"inputGroup-sizing-default"}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Reference link")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,name:"url",value:t.url,onChange:function(e){return u(e.target.name,e.target.value,a)},"aria-describedby":"inputGroup-sizing-default"}),!e.isReadOnly&&a<i.length-1&&a>0&&l.a.createElement(R.a,{style:{width:"30px"},onClick:function(e){return s(a)}},"-"),!e.isReadOnly&&a==i.length-1&&l.a.createElement(R.a,{style:{width:"30px"},onClick:function(e){return s()}},"+"))))}))))}));var P=Object(u.b)(null,(function(e){return{}}))((function(e){Object(o.h)();var t=e.data;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-header"},l.a.createElement("p",{className:"fw-bold fs-5 text-start"},"Personal Details"),l.a.createElement("div",{className:"row flex-row pt-1"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Current Weight")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===t||void 0===t?void 0:t.currentWeight)||"","aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Current Body Fat")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===t||void 0===t?void 0:t.bodyFat)||"","aria-describedby":"inputGroup-sizing-default"}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Age")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===t||void 0===t?void 0:t.age)||"","aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Gender")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===t||void 0===t?void 0:t.gender)||(null===t||void 0===t?void 0:t.sex)||"","aria-describedby":"inputGroup-sizing-default"}))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Maintenance calories")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===t||void 0===t?void 0:t.maintenanceCalories)||"","aria-describedby":"inputGroup-sizing-default"})),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Activity level")),l.a.createElement("input",{type:"text",className:"form-control p-0 pb-0 px-2","aria-label":"Default",disabled:e.isReadOnly,value:(null===t||void 0===t?void 0:t.activity)||"","aria-describedby":"inputGroup-sizing-default"}))))))})),z=a(22),G=a(23),L=w.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/healthbuddy",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_BASE_URL||"https://myhealthbuddyapp.herokuapp.com"}),F=5e3,B=function(){function e(){Object(z.a)(this,e)}return Object(G.a)(e,null,[{key:"get",value:function(e,t,a){return(null===t||void 0===t?void 0:t.timeout)&&(F=t.timeout),L.get(e,{params:t,timeout:F,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return"function"===typeof a?a(null===e||void 0===e?void 0:e.data):null===e||void 0===e?void 0:e.data})).catch((function(t){return e.includes("ipify")?"function"===typeof a?a():void 0:t}))}},{key:"post",value:function(e,t,a){return(null===t||void 0===t?void 0:t.timeout)&&(F=t.timeout),L.post(e,t,{timeout:F,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data.success,"function"===typeof a?a(null===e||void 0===e?void 0:e.data):null===e||void 0===e?void 0:e.data})).catch((function(e){return"function"===typeof a?a(e):e}))}},{key:"put",value:function(e,t,a){return(null===t||void 0===t?void 0:t.timeout)&&(F=t.timeout),L.put(e,t,{timeout:F,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data.success,"function"===typeof a?a(null===e||void 0===e?void 0:e.data):null===e||void 0===e?void 0:e.data})).catch((function(e){return"function"===typeof a?a(e):e}))}}]),e}(),M=function(e){return B.get("/external/form/".concat(e))},T=function(e,t){return B.post("/external/form/".concat(e),t)},W=function(e){return B.get("/api/user/".concat(e))};var A=Object(u.b)(null,(function(e){return{}}))((function(e){Object(o.h)();var t,a,r=Object(o.i)().empId,i=Object(n.useState)({employee:{},targetWeight:0,targetBodyFat:0,weeklyMilestone:0,calorieIntake:0,medicalConditions:"",allergens:"",walk:0,waterIntake:0,dietPlan:{breakfast:"",morningSnack:"",lunch:"",eveningSnack:"",dinner:""},exercisePlan:[{type:"",duration:""}]}),u=Object(k.a)(i,2),m=u[0],d=u[1],p=Object(s.c)(),v=Object(k.a)(p,2);v[0],v[1],Object(n.useEffect)((function(){r&&g(r)}),r);var g=function(){var e=Object(y.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M(r);case 4:a=e.sent,(n=Object(c.a)({},m)).employee=a.employee,d(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){var a,n=Object(c.a)({},m);if(n[e]=t,(null===n||void 0===n?void 0:n.targetWeight)&&(null===n||void 0===n?void 0:n.numberOfMonths)&&(null===n||void 0===n||null===(a=n.employee)||void 0===a?void 0:a.currentWeight)){var l,r=((null===n||void 0===n||null===(l=n.employee)||void 0===l?void 0:l.currentWeight)-(null===n||void 0===n?void 0:n.targetWeight))/(4*parseFloat(null===n||void 0===n?void 0:n.numberOfMonths));n.weeklyMilestone=r.toFixed(2)}d(n)},b=function(){var e=Object(y.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Thank you for submitting diet!"),delete Object(c.a)({},m).employee,e.next=5,T(r,m);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"card-header text-start inline-block"},l.a.createElement("img",{src:"/images/company.png",width:120,height:120}),l.a.createElement("span",{class:"fw-bold px-3"},null===m||void 0===m||null===(t=m.employee)||void 0===t?void 0:t.name," (",null===m||void 0===m||null===(a=m.employee)||void 0===a?void 0:a.email,")"))),l.a.createElement("div",null,l.a.createElement(P,{data:null===m||void 0===m?void 0:m.employee,isReadOnly:!0,handleDietFormChange:f})),l.a.createElement("div",null,l.a.createElement(S,{data:m,handleDietFormChange:f})),l.a.createElement("div",null,l.a.createElement(C,{data:m,handleDietFormChange:f})),l.a.createElement("div",null,l.a.createElement(I,{data:m,handleDietFormChange:f})),l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"card-header text-end"},l.a.createElement(R.a,{onClick:b},"Submit"))))})),_=a(26),H=a.n(_);var U=Object(u.b)(null,(function(e){return{}}))((function(e){Object(o.h)();var t=e.data,a=Object(n.useState)([]),r=Object(k.a)(a,2),i=r[0],s=r[1];Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.startDate)&&u(null===t||void 0===t?void 0:t.startDate)}),[null===t||void 0===t?void 0:t.startDate]);var u=function(e){for(var a=4*(null===t||void 0===t?void 0:t.numberOfMonths),n=H()(e).format("YYYY-MM-DD").toString(),l=[],r=(m(),1);r<=a;r++){var i,c=(null===t||void 0===t||null===(i=t.employee)||void 0===i?void 0:i.currentWeight)+m()*r,o={week:r,startDate:n,endDate:H()(n).add(1,"weeks").format("YYYY-MM-DD").toString(),status:H()().isSame(H()(n).add(1,"weeks"),"week"),goal:c};n=H()(n).add(1,"weeks").format("YYYY-MM-DD").toString(),l.push(o)}s(l)},m=function(){var e,a=Object(c.a)({},t);if((null===a||void 0===a?void 0:a.targetWeight)&&(null===a||void 0===a?void 0:a.numberOfMonths)&&(null===a||void 0===a||null===(e=a.employee)||void 0===e?void 0:e.currentWeight)){var n,l=((null===a||void 0===a||null===(n=a.employee)||void 0===n?void 0:n.currentWeight)-(null===a||void 0===a?void 0:a.targetWeight))/(4*parseFloat(null===a||void 0===a?void 0:a.numberOfMonths));return l.toFixed(2)-2*l.toFixed(2)}return 0};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row flex-row pt-1"},i.length>1?i.map((function(e,t){return l.a.createElement("div",{className:"col p-0 ".concat(e.status)},l.a.createElement("div",{className:"card-header p-0 border border-light"},l.a.createElement("p",{style:{fontSize:12},className:"m-0"},l.a.createElement("span",null," Week : "),l.a.createElement("span",{className:"fw-bold"},e.week)),l.a.createElement("p",{style:{fontSize:12},className:"m-0"},l.a.createElement("span",null," Start Date : "),l.a.createElement("span",{className:"fw-bold"},e.startDate)),l.a.createElement("p",{style:{fontSize:12},className:"m-0"},l.a.createElement("span",null," End Date : "),l.a.createElement("span",{className:"fw-bold"},e.endDate)),l.a.createElement("p",{style:{fontSize:12},className:"m-0"},t<i.length-1&&l.a.createElement("span",null,"Week Goal: "),t==i.length-1&&l.a.createElement("span",null,"Target Weight: "),l.a.createElement("span",{className:"fw-bold"},e.goal))))})):l.a.createElement("div",{className:"card-header fw-bolder fs-2 border border-light",style:{color:"navajowhite"}},"Please start the challenge to show the progress")))})),V=a(34),K=a(33),Y=function(e){return B.get("https://myhealthbuddyapp.herokuapp.com/api/image/".concat(e))},J=function(e){return B.post("https://myhealthbuddyapp.herokuapp.com/api/upload",e,{headers:{"Content-Type":"multipart/form-data"}})},$=function(e){Object(V.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(z.a)(this,a),(n=t.call(this,e)).state={file:"",imagePreviewUrl:"",file2:"",imagePreviewUrl2:""},n}return Object(G.a)(a,[{key:"_handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("handle uploading-",this.state.file);var a=this.state,n=a.file,l=a.file2;if(n&&l){var r=new FormData;r.append("file",n);var i=new FormData;i.append("file",l),Promise.all([J(r),J(i)]).then((function(e){console.log("uploaded images",e),e.every((function(e){return"OK"===e}))?(alert("Images saved successfully!"),t.props.handleClose()):alert("Please reupload images!")})).catch((function(e){alert("Error uploading images!!"),t.props.handleClose()}))}else alert("Please Upload both the images!!")}},{key:"_handleImageChange",value:function(e,t){var a=this;if(e.preventDefault(),"first-image"==t){var n=new FileReader,l=e.target.files[0];n.onloadend=function(){a.setState({file:l,imagePreviewUrl:n.result})},n.readAsDataURL(l)}else if("second-image"==t){var r=new FileReader,i=e.target.files[0];r.onloadend=function(){a.setState({file2:i,imagePreviewUrl2:r.result})},r.readAsDataURL(i)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.imagePreviewUrl,n=t.imagePreviewUrl2,r=null,i=null;return r=a?l.a.createElement("div",{className:"imgPreview  w-75"},l.a.createElement("img",{className:"w-75",src:a})):l.a.createElement("div",{className:"ml-2"},"No Before Image Selected"),i=n?l.a.createElement("div",{className:"imgPreview w-75"},l.a.createElement("img",{className:"w-75",src:n})):l.a.createElement("div",{className:"ml-2"},"No After Image Selected"),l.a.createElement("div",{className:"previewComponent"},l.a.createElement("form",{onSubmit:function(t){return e._handleSubmit(t)}},l.a.createElement("h4",null,"Before Image"),l.a.createElement("input",{className:"fileInput",type:"file",onChange:function(t){return e._handleImageChange(t,"first-image")}}),l.a.createElement("h4",null,"After Image"),l.a.createElement("input",{className:"fileInput",type:"file",onChange:function(t){return e._handleImageChange(t,"second-image")}})),r,i,l.a.createElement("div",{className:""},l.a.createElement("button",{style:{float:"right",cursor:"pointer"},type:"submit",onClick:function(t){return e._handleSubmit(t)}},"Upload Image")))}}]),a}(l.a.Component),q=a(99);var Q=Object(u.b)(null,(function(e){return{updateLoginResponse:function(t){return e(v(t))}}}))((function(e){var t,a,n=Object(o.h)(),r=Object(u.c)((function(e){return e.loginResponse}));return l.a.createElement("div",{className:"my-3 text-end mx-3"},(null===r||void 0===r||null===(t=r.responseObj)||void 0===t?void 0:t.imageUrl)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{className:"profile-image",src:null===r||void 0===r||null===(a=r.responseObj)||void 0===a?void 0:a.imageUrl}),l.a.createElement("span",{className:"heading-title"},"Health Buddy")),l.a.createElement(N.GoogleLogout,{clientId:"971615762538-n2knhdr6vhijhgm6oleolth4k94njhoi.apps.googleusercontent.com",className:"logout-btn",buttonText:"Logout",onLogoutSuccess:function(){console.log("Logout made successfully"),n("/"),localStorage.removeItem("token"),localStorage.removeItem("userDetails"),e.updateLoginResponse({isLoggedIn:!1,responseObj:null})}}))}));function X(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),r=a[0],i=a[1],c=function(){return i(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{onClick:function(){return i(!0)}},e.text),l.a.createElement(q.a,{show:r,onHide:c},l.a.createElement(q.a.Header,{closeButton:!0},l.a.createElement(q.a.Title,null,"Upload Proofs")),l.a.createElement(q.a.Body,null,l.a.createElement($,{handleClose:c})),l.a.createElement(q.a.Footer,null,l.a.createElement(R.a,{variant:"secondary",onClick:c},"Cancel"))))}var Z=Object(u.b)(null,(function(e){return{}}))((function(e){Object(o.h)();var t=Object(o.i)().empId,a=Object(n.useState)({employee:{},targetWeight:0,targetBodyFat:0,weeklyMilestone:0,calorieIntake:0,medicalConditions:"",allergens:"",walk:0,waterIntake:8,dietPlan:{breakfast:"",morningSnack:"",lunch:"",eveningSnack:"",dinner:""},exercisePlan:[{type:"",duration:""}]}),r=Object(k.a)(a,2),i=r[0],s=r[1];Object(n.useEffect)((function(){t&&m(t)}),t);var u=function(){var e=Object(y.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=H()().toISOString(),e.next=3,n={startDate:a},B.put("/api/user/",n);case 3:e.sent,m(t),alert("Challenge has been started!");case 6:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(y.a)(h.a.mark((function e(t){var a,n,l,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,M(t);case 5:return n=e.sent,e.next=8,W(t);case 8:(null===(l=e.sent)||void 0===l||null===(a=l.employee)||void 0===a?void 0:a.recommendedPlan)&&((i=Object(c.a)({},null===l||void 0===l||null===(r=l.employee)||void 0===r?void 0:r.recommendedPlan)).employee=null===n||void 0===n?void 0:n.employee,s(i));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"container"},l.a.createElement(Q,null),(null===i||void 0===i?void 0:i.targetWeight)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(U,{data:i})),(null===i||void 0===i?void 0:i.startDate)&&l.a.createElement("div",{className:"my-3 text-end mx-3"},l.a.createElement(X,{text:"Submit For Review"})),!(null===i||void 0===i?void 0:i.startDate)&&l.a.createElement("div",{className:"my-3 text-end mx-3"},l.a.createElement(R.a,{onClick:u},"Start Challenge")),l.a.createElement("div",null,l.a.createElement(P,{isReadOnly:!0,data:null===i||void 0===i?void 0:i.employee})),l.a.createElement("div",null,l.a.createElement(S,{isReadOnly:!0,data:i})),l.a.createElement("div",null,l.a.createElement(C,{isReadOnly:!0,data:i})),l.a.createElement("div",null,l.a.createElement(I,{isReadOnly:!0,data:i}))):l.a.createElement("div",{className:"fw-bolder fs-2",style:{color:"navajowhite"}},"Dietician has not filled diet plan. Please revisit here to check the plan. Thanks!"))})),ee=function(e){var t=e.email,a=e.subject,n=e.body,r=e.children;return l.a.createElement("a",{href:"mailto:".concat(t,"?subject=").concat(encodeURIComponent(a)||"","&body=").concat(encodeURIComponent(n)||""),className:"text-white"},r)},te={columns:["Category","BMI Range - Kg/m2"],rows:[{Category:"Severe Thinness","BMI Range - Kg/m2":"<16"},{Category:"Moderate Thinness","BMI Range - Kg/m2":"16-17"},{Category:"Mild Thinness","BMI Range - Kg/m2":"17-18.5"},{Category:"Normal","BMI Range - Kg/m2":"18.5-25"},{Category:"Overweight","BMI Range - Kg/m2":"25-30"},{Category:"Obese Class I","BMI Range - Kg/m2":"30-35"},{Category:"Obese Class II","BMI Range - Kg/m2":"35-40"},{Category:"Obese Class III","BMI Range - Kg/m2":">40"}]},ae={columns:["Description","Women","Men"],rows:[{Description:"Essential Fat",Women:"10-13%",Men:"2-5%"},{Description:"Athletes",Women:"14-20%",Men:"6-13%"},{Description:"Fitness",Women:"21-24%",Men:"14-17%"},{Description:"Average",Women:"25-31%",Men:"18-24%"},{Description:"Obese",Women:"32+%",Men:"25+%"}]},ne=function(e){var t=e.data.columns,a=e.data.rows,n=e.bmiDetails,r=l.a.createElement("thead",null,l.a.createElement("tr",null,t.map((function(e){return l.a.createElement("th",{key:e},e)})))),i=a.map((function(e,a){return l.a.createElement("tbody",null,l.a.createElement("tr",{className:e.Category===n.bmiStatus||e.Description===n.bodyFatRange?"highlight-row":""},t.map((function(t,n){return l.a.createElement("td",{key:"".concat(a).concat(n)},e[t])}))))}));return l.a.createElement("table",{className:"table-bordered-bmi table-hover",width:"100%"},r,i)},le=function(e){var t=e.indicator,a=e.label,n=e.navigateToStepHandler,r=e.index,i=e.isActive,c=e.isComplete,o=e.isWarning,s=e.isError,u=e.isRightToLeftLanguage,m=[""];return i&&m.push("is-active"),c&&m.push("is-complete"),o&&m.push("is-warning"),s&&m.push("is-error"),u&&m.push("rightToLeft"),l.a.createElement("div",{className:"stepper-step ".concat(m.join(" "))},l.a.createElement("div",{className:"stepper-indicator"},l.a.createElement("span",{className:"stepper-indicator-info",onClick:c||s?function(){return n(r)}:null},c?l.a.createElement("svg",{className:"stepper-tick",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490"},l.a.createElement("path",{d:"M452.253 28.326L197.831 394.674 29.044 256.875 0 292.469l207.253 169.205L490 54.528z"})):t)),l.a.createElement("div",{className:"stepper-label"},a))},re=function(e){var t=e.stepperContent,a=e.navigateToStepHandler,n=e.isVertical,r=e.isInline,i=e.isRightToLeftLanguage,c=e.currentTabIndex;return l.a.createElement("div",{className:"stepper-head ".concat(n?"vertical-stepper-head":""," ").concat(r?"inline-stepper-head":"")},t.map((function(e,t){return l.a.createElement(le,{key:t,index:t,navigateToStepHandler:a,isActive:t===c,isComplete:e.isComplete,isWarning:e.isWarning,isError:e.isError,isRightToLeftLanguage:i,indicator:t+1,label:e.label})})))},ie=function(e){var t=e.isPrevBtn,a=e.previousStepHandler,n=e.isLastStep,r=e.nextStepHandler,i=e.submitHandler,c=e.stepperContent,o=e.currentTabIndex,s=function(){var e=Object(y.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c[o].clicked();case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"stepper-footer",style:{justifyContent:t?"space-between":"flex-end"}},t&&l.a.createElement("button",{className:"stepper-footer-btn",onClick:a},"Back to ",c[o-1].label),l.a.createElement("button",{className:"stepper-footer-btn ".concat(n?"success":"primary"),onClick:n?i:c[o].clicked?s:r,disabled:(n?c.some((function(e){return!e.isComplete})):!c[o].isComplete)||c[o].isLoading},n?"Go Back To Home":"Continue to ".concat(c[o+1].label)))},ce=function(e){var t=e.isRightToLeftLanguage,a=e.isVertical,r=e.isInline,i=e.stepperContent,c=e.submitStepper,o=Object(n.useState)(0),s=Object(k.a)(o,2),u=s[0],m=s[1],d=u===i.length-1,p=0!==u;return l.a.createElement("div",{className:"stepper-wrapper"},l.a.createElement("div",{style:{display:a?"flex":"block"}},l.a.createElement(re,{stepperContent:i,navigateToStepHandler:function(e){e!==u&&m(e)},isVertical:a,isInline:r,currentTabIndex:u,isRightToLeftLanguage:t}),l.a.createElement("div",{className:"stepper-body"},i.map((function(e,t){return l.a.createElement(n.Fragment,{key:t},t===u&&e.content)})))),l.a.createElement(ie,{isPrevBtn:p,previousStepHandler:function(){m((function(e){return e-1}))},isLastStep:d,nextStepHandler:function(){m((function(e){if(e!==i.length-1)return e+1}))},submitHandler:function(){c()},stepperContent:i,currentTabIndex:u}))},oe=Object(u.b)((function(e){return{loginResponse:e.loginResponse,bmiDetails:e.bmiDetails}}),(function(e){return{saveBmiDetails:function(t){return e(g(t))}}}))((function(e){var t=e.loginResponse,a=t.responseObj,r=t.token,i=e.bmiDetails,u=Object(o.h)(),m=Object(n.useState)({weight:"",height:"",hip:"",activity:"light"}),d=Object(k.a)(m,2),p=d[0],v=d[1],g=Object(n.useState)(!1),f=Object(k.a)(g,2),b=f[0],E=f[1],N=Object(n.useState)({checked:!1}),O=Object(k.a)(N,2),x=O[0],j=O[1],C=Object(n.useState)({checked:!1}),S=Object(k.a)(C,2),D=S[0],R=S[1],I=Object(n.useState)({checked:!1}),P=Object(k.a)(I,2),z=P[0],G=P[1],L=Object(n.useState)({checked:!1}),F=Object(k.a)(L,2),B=(F[0],F[1],Object(n.useState)(!1)),M=Object(k.a)(B,2),T=(M[0],M[1]),W=function(e,t){switch(t){case"weight":v(Object(c.a)(Object(c.a)({},p),{},{weight:e.target.value}));break;case"height":v(Object(c.a)(Object(c.a)({},p),{},{height:e.target.value}));break;case"hip":v(Object(c.a)(Object(c.a)({},p),{},{hip:e.target.value}));break;case"activity":v(Object(c.a)(Object(c.a)({},p),{},{activity:e.target.value}))}};Object(n.useEffect)((function(){var e=p.weight,t=p.height,n=p.hip,l=p.activity;"F"==a.sex?E(!!(e&&t&&n&&l)):E(!!(e&&t&&l))}),[p]),Object(n.useEffect)((function(){var e=a.name,t=a.sex,n=a.email,l=a.dob,r=a.hr_manager;e&&t&&n&&l&&r&&j({checked:!0})}),[a]);var A,_=[{label:"View Basic Details",content:l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"User Name  "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:"".concat(a.name)})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Gender  "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:"".concat("F"==a.sex?"Female":"Male")})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Email Id  "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:"".concat(a.email)})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Date Of Birth "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:a.dob})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"HR Manager"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:a.hr_manager})))),isComplete:x.checked},{label:"Update User Details",content:l.a.createElement("div",null,l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Age "),l.a.createElement("br",null),l.a.createElement("input",{type:"number",placeholder:"in yrs",disabled:!0,defaultValue:function(e){var t=Date.now()-new Date(e).getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}((A=a.dob,A.split(/\D/).reverse().join("-")))})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Gender "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:"F"==a.sex?"Female":"Male"})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Weight  "),l.a.createElement("br",null),l.a.createElement("input",{type:"number",placeholder:"in kgs",value:p.weight,onChange:function(e){return W(e,"weight")}})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Height "),l.a.createElement("br",null),l.a.createElement("input",{type:"number",placeholder:"in cms",value:p.height,onChange:function(e){return W(e,"height")}})),"F"==a.sex&&l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Hip "),l.a.createElement("br",null),l.a.createElement("input",{type:"number",placeholder:"in cms",value:p.hip,onChange:function(e){return W(e,"hip")}})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",{htmlFor:"activity"},"Activity Measurement"),l.a.createElement("br",null),l.a.createElement("select",{name:"activity",id:"dropdown-activity",onChange:function(e){return W(e,"activity")}},l.a.createElement("option",{value:"light"},"Exercise 1-3 times/week"),l.a.createElement("option",{value:"moderate"},"Exercise 4-5 times/week"),l.a.createElement("option",{value:"active daily"},"Exercise or intense exercise 3-4 times/week"),l.a.createElement("option",{value:"very active"}," Intense exercise 6-7 times/week"),l.a.createElement("option",{value:"extra active"},"Very intense exercise delay or physical job"))),l.a.createElement("div",{className:"edit-save-container"},l.a.createElement("button",{className:"primary save-btn stepper-footer-btn ".concat(b?"":"disabled-save"),onClick:function(){return function(){T(!0);var t=p.height,n=p.weight,l=p.waist,i=p.hip,o={height:t,weight:n,waist:l,activity:p.activity};"F"==a.sex&&(o.hip=i),w.a.post("https://myhealthbuddyapp.herokuapp.com/api/user/",Object(c.a)({},o),{headers:{Authorization:"Bearer ".concat(r)}}).then(function(){var t=Object(y.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.saveBmiDetails(Object(c.a)({},a.data)),T(!1),R({checked:!0}),alert("Details Saved Successfully!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){T(!1),R({checked:!1}),alert("Error saving details!"),console.log(e)})),console.log("second step clicked")}()}},"Save"))),isComplete:D.checked},{label:"Check Employee Fitness",content:i&&l.a.createElement("div",null,i.isEmployeeFit?l.a.createElement("h5",{className:"text-white"},"Hey! You are a fit person."):l.a.createElement("h5",{style:{color:"navajowhite"}},"You are not a fit person, please follow the diet plan that would be soon shared to you by your dietician over your ",l.a.createElement(s.b,{to:"/view-plan/".concat(a._id)}," view diet plan "),"page "),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Body Mass Index "),l.a.createElement("br",null),l.a.createElement("input",{type:"number",disabled:!0,defaultValue:i.bmi})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Ideal Weight (Kg) "),l.a.createElement("br",null),l.a.createElement("input",{type:"number",disabled:!0,defaultValue:i.idealWeight})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Body Fat "),l.a.createElement("br",null),l.a.createElement("input",{type:"number",disabled:!0,defaultValue:i.bodyFat})),l.a.createElement("h2",{className:"mt-5"},"Body Mass Index  Reference"),l.a.createElement(ne,{data:te,bmiDetails:i}),l.a.createElement("h2",{className:"mt-3"},"Body Fat Reference"),l.a.createElement(ne,{data:ae,bmiDetails:i}),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Maintainance calories "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:"".concat(i.maintenanceCalories)})),l.a.createElement("div",{className:"field-wrapper"},l.a.createElement("label",null,"Dietician Email Id "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",disabled:!0,defaultValue:"priyanshu.srivastava@tothenew.com"})),l.a.createElement("div",{className:"edit-save-container"},l.a.createElement("button",{className:"primary save-btn stepper-footer-btn",onClick:function(){G({checked:!0})}},l.a.createElement(ee,{email:"`priyanshu.srivastava@tothenew.com",subject:"Please follow the link given below to view diet plan",body:'Please visit this link to get your diet plan "'.concat(i.link,'"')},"Save")))),isComplete:z.checked}];return l.a.createElement("div",{className:"container"},l.a.createElement(Q,null),l.a.createElement("div",{className:"mt-5"},l.a.createElement(ce,{stepperContent:_,submitStepper:function(){console.log("submitted"),j({checked:!1}),R({checked:!1}),G({checked:!1}),setTimeout((function(){u("/home")}),500)}})))}));a(96);var se=Object(u.b)((function(e){return{loginResponse:e.loginResponse}}),(function(e){return{updateLoginResponse:function(t){return e(v(t))}}}))((function(e){var t,a,n=Object(o.h)(),r=function(e){e&&n(e)};return l.a.createElement("div",{className:"container"},l.a.createElement(Q,null),l.a.createElement("div",{className:"card-header"},l.a.createElement("p",{className:"fw-light fs-4"},'"The food you eat can be either the safest and most powerful form of medicine or the slowest form of poison."'),l.a.createElement("p",{className:"fw-bold fs-5"},"So let\u2019s talk about how food affects your mood and what you should include in your diet")),l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"row flex-row pt-1"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"card-header fw-bold",style:{height:"200px",color:"white",cursor:"pointer"},onClick:function(e){return r("/user-dashboard")}},"Generate Diet Plan For Me")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"card-header fw-bold",style:{height:"200px",color:"white",cursor:"pointer"},onClick:function(t){var a,n;return r("/view-plan/".concat((null===e||void 0===e||null===(a=e.loginResponse)||void 0===a||null===(n=a.responseObj)||void 0===n?void 0:n._id)||""))}},"View My Diet Plan")),(null===e||void 0===e||null===(t=e.loginResponse)||void 0===t||null===(a=t.responseObj)||void 0===a?void 0:a.isHR)&&l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"card-header fw-bold",style:{height:"200px",color:"white",cursor:"pointer"},onClick:function(e){return r("/hr-page")}},"HR Actions")))))})),ue=a(100);function me(e){var t=e.approvedObjects,a=e.rejectedObjects,r=e.handleIsApproveObjs,i=e.recommendedPlan,o=Object(n.useState)(""),s=Object(k.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!0),p=Object(k.a)(d,2),v=p[0],g=p[1],f=Object(n.useState)(!1),b=Object(k.a)(f,2),E=b[0],N=b[1],O=Object(n.useState)([]),w=Object(k.a)(O,2),x=w[0],j=w[1],C=Object(n.useState)(""),S=Object(k.a)(C,2),D=S[0],I=S[1],P=function(){return N(!1)},z=function(){var t=Object(y.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l=e.id,i={status:a,remarks:D},B.post("https://myhealthbuddyapp.herokuapp.com/api/notify/".concat(l),Object(c.a)({},i));case 2:n=t.sent,console.log("checker",n),"OK"==n?"approved"==a?(alert("Approved Successfully!"),r("approved",{id:e.id})):(alert("Rejected Successfully!"),r("rejected",{id:e.id})):alert("Err Saving your Response!");case 5:case"end":return t.stop()}var l,i}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){function t(){return(t=Object(y.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.id){t.next=5;break}return t.next=3,Y(e.id);case 3:(a=t.sent)&&a.images?j(a.images):j([]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.id]),Object(n.useEffect)((function(){i?i.approved?(m("Approved"),g(!1)):"approved"in i?0==i.approved&&(m("Rejected"),g(!1)):(m("Approve/Reject"),g(!0)):-1!==t.findIndex((function(t){return t.id==e.id}))?(m("Approved"),g(!1)):-1!==a.findIndex((function(e){return e.id}))?(m("Rejected"),g(!1)):(m("N/A (DietPlan not generated)"),g(!1))}),[t,a]),l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{className:"text-white cursor-pointer employee-anchor ".concat(v?"":"pe-none text-decoration-none"),onClick:function(){return N(!0)}},u),l.a.createElement(q.a,{show:E,onHide:P},l.a.createElement(q.a.Header,{closeButton:!0},l.a.createElement(q.a.Title,null,"Before/After Proofs")),l.a.createElement(q.a.Body,null,x&&x.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex p-3"},l.a.createElement("div",{className:"w-50"},l.a.createElement("h5",{className:"text-dark"},"Before Image"),l.a.createElement("img",{src:x[0],className:"w-75"})),l.a.createElement("div",{className:"w-50"},l.a.createElement("h5",{className:"text-dark"},"After Image"),l.a.createElement("img",{src:x[1],className:"w-75"}))),l.a.createElement("div",{className:"w-100"},l.a.createElement(ue.a.Group,{className:"mb-3"},l.a.createElement(ue.a.Label,null,"Please Enter Remarks Here"),l.a.createElement(ue.a.Control,{type:"text",placeholder:"Enter remarks...",value:D,onChange:function(e){return I(e.target.value)}})))):l.a.createElement(l.a.Fragment,null,"Employee dont have diet plan yet")),l.a.createElement(q.a.Footer,null,l.a.createElement(R.a,{variant:"secondary",size:"sm",onClick:P},"Cancel"),x&&x.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{variant:"primary",size:"sm",onClick:function(){return z("approved")},className:!D&&"disabled"},"Approve"),l.a.createElement(R.a,{variant:"primary",size:"sm",onClick:function(){return z("rejected")},className:!D&&"disabled"},"Reject")))))}var de=function(e){var t=Object(n.useState)([]),a=Object(k.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)([]),o=Object(k.a)(c,2),u=o[0],m=o[1],d=["empId","name","email","sex","dob","_id","isHR"],p=["Employee Id","Name","Email","Sex","Date Of Birth","Actions","View Plan Link"],v=e.data,g=l.a.createElement("thead",null,l.a.createElement("tr",null,d.map((function(e,t){return l.a.createElement("th",{key:e},p[t])})))),f=function(e,t){"approved"==e?i((function(e){return[].concat(Object(D.a)(e),[t])})):m((function(e){return[].concat(Object(D.a)(e),[t])}))};Object(n.useEffect)((function(){console.log("888",r,u)}));var b=v.map((function(e,t){return l.a.createElement("tbody",null,l.a.createElement("tr",{className:"",key:t},d.map((function(a,n){return l.a.createElement("td",{key:"".concat(t).concat(n)},"_id"==a?l.a.createElement(l.a.Fragment,null,l.a.createElement(me,{recommendedPlan:e.recommendedPlan,textToShow:"Approve/Reject",id:e._id,approvedObjects:r,rejectedObjects:u,handleIsApproveObjs:f})):"isHR"==a?l.a.createElement(s.b,{to:"/view-plan/".concat(e._id),className:"".concat(e.recommendedPlan?"":"pe-none"," text-dark text-decoration-none")},e.recommendedPlan?"Link":"Link not generated "):e[a])}))))}));return l.a.createElement("table",{className:"table table-striped mt-5",width:"100%"},g,b)};var pe=Object(u.b)((function(e){return{loginResponse:e.loginResponse}}),null)((function(e){var t=e.loginResponse,a=t.responseObj&&t.responseObj.employeeList?t.responseObj.employeeList:[];return console.log("this is hr page",a),l.a.createElement("div",null,l.a.createElement(Q,null),l.a.createElement("h1",{className:"text-warning"},"Employee List"),l.a.createElement(de,{data:a}))})),ve=function(e){var t=e.store,a=e.redirectPath,n=e.children,r=(t.getState().loginResponse,localStorage.getItem("token")),i=JSON.parse(localStorage.getItem("userDetails"));return r?(B.get("/api/user/").then((function(e){var a,n;t.dispatch(v({isLoggedIn:!0,responseObj:Object(c.a)(Object(c.a)(Object(c.a)({},e.user),i),{},{employeeList:(null===e||void 0===e?void 0:e.employeeList)||[],recommendedPlan:(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.recommendedPlan)||{},dietLink:(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.link)||""}),token:r}))})),n||l.a.createElement(o.b,null)):l.a.createElement(o.a,{to:a,replace:!0})};var ge=function(){return l.a.createElement(u.a,{store:b},l.a.createElement("div",{className:"App"},l.a.createElement(s.a,null,l.a.createElement(o.e,null,l.a.createElement(o.c,{path:"/",element:l.a.createElement(j,null)}),l.a.createElement(o.c,{path:"/dietian-form/:empId",element:l.a.createElement(A,null)}),l.a.createElement(o.c,{path:"/view-plan/:empId",element:l.a.createElement(Z,null)}),l.a.createElement(o.c,{path:"/user-dashboard",element:l.a.createElement(ve,{store:b,redirectPath:"/"},l.a.createElement(oe,null))}),l.a.createElement(o.c,{path:"/home",element:l.a.createElement(ve,{store:b,redirectPath:"/"},l.a.createElement(se,null))}),l.a.createElement(o.c,{path:"/hr-page",element:l.a.createElement(ve,{store:b,redirectPath:"/"},l.a.createElement(pe,null))}),l.a.createElement(o.c,{path:"*",element:l.a.createElement("p",null,"There's nothing here: 404!")})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.f35ab6f5.chunk.js.map